
### 클라이언트가 서버에 접속하는 경우
1. 클라이언트가 GETWAY 라우터로 패킷을 전송한다.
2. 그 뒤에 라우터가 포워딩한다.
3. 그럼 네트워크 계층에서 어떻게 GETWAY 라우터로 패킷을 보낼까?

### Link layer의 목적
1. 동일한 GETWAY라우터를 공유하는 네트워크 안에서 여러 클라이언트가 패킷을 전송한다면??
   1. 패킷이 섞여서 collision 이 발생하고 GWR에 해독할 수 없는 시그널이 도착한다.
2. 따라서 링크 계층은 **충돌**이 발생하지 않게 하는게 가장 중요한 일이다.
3. 딱 다음 HOP까지 어떻게 잘 전송할지  !!

### 구현 위치
1. Link layer 보다 상위 계층은 다 software로 구현
2. Link layer는 NIC에 구현 
3. 전송단위는 Frame

### Mulitple access  links 
1. 많은 사람들이 Next-Hop까지의 네트워크를 공유햔다.
2. 따라서 한명이 전송하면 그 네트워크 안에서 다 퍼진다. 즉 Brodcast Medium 특성을 가진다
3. (MAC)Medium Access Control : 매체에한 접근을 잘해서 충돌을 해결하고자 하는 기술 (충돌에 대한 해결책이라고 생각하자)
4. EX) WIFI는 MAC 프로토콜이다
   1. 동일한 와이파이를 이용하는 사용들이 동시에 매체에 접근하면 충돌이 발생한다
   2. 하지만 와이파이는 MAC 프로토콜을 이용해서 충돌이 발생하지 않게 잘 조절한다.

### 이상적인 MAC protocol
1. 딱 한 노드가 데이터 전송시, R bps 모두 사용 가능
2. n명의 사용자는 모두 R/n씩 나눠서 사용
3. 중앙처리가 아닌 분산 처리
4. 프로토콜이 단순 

### channel partitioning 방식 
1. TDMA : time divison multiple access => 시간을 분할해서 여러 사람이 엑세스 가능하게
   1. 자원 낭비가 심하다
2. FDMA : frequency divison multiple access => 주파수 분할

### Random Access Prtocols
1. 보내고자 하는 데이터가 있다면 바로 데이터를 보낸다.
   1. 어떻게 충돌을 탐지하고 어떻게 해결할지 가 중요함.
2. CSMA carrier sense muliple access 
   1. brodcast medium 상황에서 누군가 이야기하고 있다면 끝날 때까지 기다린다.
   2. **이렇게 해도 프레임 충돌은 발생한다. 동시에 이야기를 하는 경우**
   3. 아날로그의 시간으로 본다면 동시에 전송한게 아닐것
   4. 그럼 왜 발생??
      1. propagation delay 때문이다  => 충들을 피할 수 없다.
   5. 충돌을 피할 수 없으니깐 어떻게 해결할지 생각하자.
3. CSMA/CD collision detction 충돌을 감지하고  전송을 중지
   1. 누가 기다리고 누가 전송할지 어떻게 결정??
      1. 일단 프레임 전송을 중단
      2. 첫 충돌 (0,1) 중에 랜덤하게 골라서 그 시간만큼 대기
      3. 또 충돌이 발생하면 (0,1,2) 에서 골라서 대기
      4. 충돌이 계속 반복되면 선택하는 랜덤 시간의 범위가 점점 늘어난다
      5. 충돌이 발생할수록 대기 시간이 길어질 확률이 높아진다
   2. 왜 1번처럼 했을까??
      1. 사람이 몇명 있는지 모르니깐 일단 작은 범위에서 숫자를 고르게 한다
      2. 그렇게 범위를 점점 넓힌다
      3. 각자 다른 숫자를 골라야 충돌이 발생하지 않는다(누군가 먼저 프레임을 전송한다면 다른 프레임은 전송을 대기)
   3. BackOff는 결국엔 Delay
      1. BackOff가 클수록 Delay가 커진다
      2. 즉 사람들이 많으면 충돌이 많이 발생하고 BackOff시간도 따라서 증가한다. 그래서 전송에 Delay가 발생하고 체감상 네트워크가 느려진다

### Taking turns Protocols 
1. 실제로 많이 사용 X
   1. 마스터 컨트롤러가 존재한다.
   2. 컨트롤러가 질의한다.
   3. 문제는 마스터가 죽으면 네트워크가 모두 죽는다 
2. 토큰 패싱
   1. 토큰이 없다면 전송X
   2. 토큰이 있다면 전송O
   3. 문제는 토큰 유실 
   4. 토큰이 유실되면 누구도  전송 불가능  

## 일반적으로 CSMA/CD를 사용한다.
